"0","#soubor <- 'FBI_2021_exp_pokus.csv'"
"0","soubor <- 'VSB_2021_article.csv'"
"0","pub <- read.csv(soubor, header = TRUE, sep = "";"", quote = ""\"""", encoding = ""UTF-8"")"
"0","for(i in 1:nrow(pub)){ #identifikace pracovišť"
"0","  au <- pub[i,""autoři""]"
"0","  au_t <- str_split(au, pattern = ',')"
"0","  au_t <- au_t[[1]]"
"0","  au_t <- head(au_t, length(au_t)-1) #poslední "","" byla plonková - odstranit"
"0","  for(a in au_t){ #zpracuj jednotlivé autory"
"0","    prac <- sub("".*\\("", """", a)"
"0","    prac <- sub(""\\/.*"", """", prac)"
"0","    prac <- str_trim(prac)"
"0","    #TODO: doplnit logiku pro autory, kteří jsou zaměstnáni na několika součástech univerzity příklad: Lesňák Michal (9390/9360, FBI/040)"
"0","    if(grepl(',', prac)){ # autor je na více pracovištích univerzity, musíme projít všechny"
"0","      prac_t <- str_split(prac, pattern = ', ')"
"0","      prac_t <- prac_t[[1]]  "
"0","      for(p in prac_t){"
"0","        p <- str_trim(p)"
"0","        if(!(p %in% colnames(pub))) pub <- addColumn(p, publikace = pub)"
"0","      }"
"0","    }else{ # jenom jedno pracoviště"
"0","      if(!(prac %in% colnames(pub))) pub <- addColumn(prac, publikace = pub)"
"0","    }"
"0","    pub[i,prac] <- 1"
"0","  }"
"0","}"
